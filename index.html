<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <title>Chat progr</title>
</head>
<body>
    <br>
    <br>
<div class="container"  style="bottom: 20%;"  >
    <div class="align-middle">
    <div class="row  text-center">
       
        <div class="col">
          <div class="card mb-4 rounded-3 shadow-sm">
            <div class="card-header py-5">
              <h1 class="my-0 fw-normal" style="position: sticky; bottom: 20%;">web socket chat (socket io)</h1>
              
            </div>
             <div class="card-body py-5 text-center">
                
                <div class="row my-0 text-center" data-target="#el">

                    <h4>all messages</h4>
                    
                    <div id="all_mess"></div>
                   <br>
                   <br> 
                </div>
                <hr>
                <div class="row" >
                       
                    <form id="messform">
                        <br>
                        <textarea name="message" id="message" class="form-control" placeholder="sample text" ></textarea>
                        <br>
                        <input type="submit" value="send" class=" w-100 btn btn-lg btn-primary" >
        
                    </form>
        
            
               
                </div>
               


            
            </div>
          </div>
        </div>
        
      </div>
    </div>
    </div>
    
        <footer class="footer" style="position: fixed; bottom: 0; align-content: center; width:100%; background-color: blue; margin-top: 100px;">
            
                
                   
           
          </footer>
                   
                  
        
    

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        $(function(){
            var socket = io.connect();
            var $form = $("#messform");
            var $textarea = $("#message");
            var $all_messages = $("#all_mess");

            $form.submit(function(event){
                event.preventDefault();
                socket.emit('send_mess', $textarea.val());
                $textarea.val('');
                
                var target = $(this).data('target');
  var pos = $(target).offset().top;
  $('html, body').animate({'scrollTop': pos - 100}, 400);


                
            });
            socket.on('send_mess', function(data){
       $all_messages.append("<div>" + data.msg + "</div>");
       
    });
        });
    </script>
</body>
</html>